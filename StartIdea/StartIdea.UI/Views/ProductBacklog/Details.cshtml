@model StartIdea.UI.ViewModels.ProductBacklogVM

@{
    ViewBag.Title = "Detalhes";
}

<div class="row">
    <div class="col-xs-12">
        <div class="page-header">
            <h1>Backlog do Produto <small>Detalhes</small></h1>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-2 col-md-1">
        <label>Id: </label>
        @Model.ProductBacklogView.Id
    </div>
    <div class="col-sm-5 col-md-4">
        <label>Data Inclusão: </label>
        @Model.ProductBacklogView.DataInclusao
    </div>
    <div class="col-sm-2">
        <label>Prioridade: </label>
        @Model.ProductBacklogView.Prioridade
    </div>
    <div class="col-sm-3 col-md-2">
        <label>Story Point: </label>
        @Model.ProductBacklogView.StoryPoint
        <button class="btn btn-default btn-xs" data-toggle="modal" data-target=".bs-example-modal-md">
            <span class="glyphicon glyphicon-search"></span>
        </button>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <label>Product Owner: </label>
        @Model.ProductBacklogView.ProductOwner.Usuario.UserName
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <label>User Story</label>
        <p>@Model.ProductBacklogView.UserStory</p>
    </div>
</div>

<div class="row">
    <div class="col-sm-2 form-group">
        @Html.ActionLink("< Voltar", "Index", "ProductBacklog", new { sprintId = Model.SprintId }, new { @class = "btn btn-default btn-block" })
    </div>
</div>

<div class="modal fade bs-example-modal-md" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Histórico de Estimativas</h4>
            </div>
            <div class="modal-body">
                <table class="table table-hover table-condensed">
                    <thead>
                        <tr>
                            <th>Usuário</th>
                            <th>Função</th>
                            <th class="text-center">Estimativa</th>
                            <th class="text-center">Data Estimativa</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.ProductBacklogView.HistoricoEstimativas)
                        {
                            <tr>
                                <td>@item.MembroTime.Usuario.UserName</td>
                                <td>@item.MembroTime.Funcao</td>
                                <td class="text-center">@item.StoryPoint</td>
                                <td class="text-center">@item.DataInclusao</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>